<div class="container-fluid">
    <form [formGroup]="sellProfileForm" (ngSubmit)="save(f.value)" #f="ngForm">
      <mat-horizontal-stepper [linear]="isLinear" #stepper>
        <mat-step [stepControl]="firstFormGroup">
          <ng-template matStepLabel></ng-template>
          <div class="accordion" id="phoneSelectionForm">
              <div class="card">
                <div class="card-header" id="choosePhone">
                  <h2 class="mb-0">
                    <button class="btn btn-link" type="button"
                     data-toggle="collapse" data-target="#collapseOne"
                     aria-expanded="true" aria-controls="collapseOne">
                     <h5>1.1 Choose your Phone</h5>
                    </button>
                  </h2>
                </div>

                <div id="collapseOne" class="collapse show" aria-labelledby="choosePhone"
                data-parent="#phoneSelectionForm">
                  <div class="card-body body-card">
                      <mat-radio-group class="example-radio-group border-line" formControlName="myMobile"
                      [(ngModel)]="phoneModels" data-toggle="collapse"
                      data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne" name="phoneModels" id="rb">
                        <mat-radio-button (change)="mPhone(c.model)" class="example-radio-button shadow"
                         *ngFor="let c of mobiles" [value]="c.imgUrl" (click)="setOpen()">
                         <div class="row">
                           <div class="col-lg-3 col-md-6 pad15" id="shad">
                              <img src="{{c.imgUrl}}" alt="" class="img-fluid phone">
                              <span class="text-center">{{ c.model }} {{ iid }}</span>
                           </div>
                         </div>
                        </mat-radio-button>
                      </mat-radio-group>
                  </div>
                </div>
              </div>
              <div class="card">
                <div class="card-header" id="selectCarrier">
                  <h2 class="mb-0">
                    <button class="btn btn-link collapsed" type="button" data-toggle="collapse"
                    data-target="#carrier" aria-expanded="false" aria-controls="collapseTwo">
                        <h5>1.2 Select your Carrier</h5>
                    </button>
                  </h2>
                </div>
                <div id="carrier" class="collapse" aria-labelledby="selectCarrier" data-parent="#phoneSelectionForm">
                  <div class="card-body">
                    <mat-radio-group class="example-radio-group border-line" formControlName="mobileCarrier"
                    [(ngModel)]="favoriteCarrier" data-toggle="collapse"
                    data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo" name="phoneModels" id="pm">
                      <mat-radio-button (change)="mPhone(c.model)" class="example-radio-button shadow"
                       *ngFor="let c of carriers" [value]="c.name" (click)="setOp()" >
                       <div class="row">
                         <div class="col-lg-3 col-md-6 pad15">
                            <img src="{{c.url}}" alt="{{ c.name }}" class="img-fluid phone carrier">
                         </div>
                       </div>
                      </mat-radio-button>
                    </mat-radio-group>

                    <!--  <mat-radio-group class="example-radio-group" [(ngModel)]="favoriteCarrier" formControlName="mobileCarrier"
                      name="favoriteCarrier">
                         <mat-radio-button class="example-radio-button btn-radio" *ngFor="let c of carriers" [value]="c.name"
                         data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo"
                         (click)="setOp()">
                           <img src="{{c.url}}" alt="{{c.name}}" class="img-fluid carrier-img">
                         </mat-radio-button>
                     </mat-radio-group> -->
                  </div>
                </div>
              </div>
              <div class="card">
                <div class="card-header" id="storageSize">
                  <h2 class="mb-0">
                    <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                        <h5>1.3 Choose a Storage Size</h5>
                    </button>
                  </h2>
                </div>
                <div id="collapseThree" class="collapse" aria-labelledby="storageSize" data-parent="#phoneSelectionForm">
                  <div class="card-body">
                      <mat-radio-group class="example-radio-group border-line" formControlName="storage"
                      [(ngModel)]="mobileStorage" data-toggle="collapse"
                      data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo" name="phoneModels" id="s">
                        <mat-radio-button (change)="mStorage(s)" class="example-radio-button shadow"
                         *ngFor="let s of storage" [value]="s" (click)="move(1)" >
                         <div class="row">
                           <div class="col-lg-3 col-md-6 pad15 fs15 btn-size">
                              {{ s }}
                           </div>
                         </div>
                        </mat-radio-button>
                      </mat-radio-group>
                   <!-- <mat-radio-group class="example-radio-group" [(ngModel)]="mobileStorage" formControlName="storage">

                            <mat-radio-button class="example-radio-button btn-radio" *ngFor="let s of storage" [value]="s"
                            (change)="mStorage(s)" (click)="move(1)">

                              {{s}}

                            </mat-radio-button>

                    </mat-radio-group> -->
                  </div>
                </div>
              </div>
            </div>
            <div>

              </div>
        </mat-step><!-- First Step -->
        <mat-step [stepControl]="secondFormGroup">
          <ng-template matStepLabel></ng-template>
          <h5 class="text-center"> Help us give you an accurate price</h5>
          <div class="accordion" id="phoneSelectionFormTwo">
              <div class="card">
                <div class="card-header" id="headingOne">
                  <h2 class="mb-0">
                    <button class="btn btn-link" type="button" data-toggle="collapse"
                     data-target="#accuratePrice" aria-expanded="true" aria-controls="accuratePrice">
                     <h5>2.1 What is the condition fo the device</h5>
                    </button>
                  </h2>
                </div>

                <div id="accuratePrice" class="collapse show" aria-labelledby="headingOne" data-parent="#phoneSelectionFormTwo">
                  <div class="card-body" id="card-b">
                      <div class="card-body none-pad">
                          <mat-radio-group class="example-radio-group mat-r fadeIn" [(ngModel)]="deviceCondition"
                           formControlName="condition" name="condition">
                              <mat-radio-button class="example-radio-button btn-radio"
                              *ngFor="let con of conditions" [checked]="deviceCondition ==='true'"
                              [value]="con.condition" (change)="mCondition(con.condition)" (click)="style(con.condition)">
                                <div class="paragraph" id="cond">
                                <strong>{{con.condition}}</strong> <br> <p class="small w-space-pw">{{con.desc}}</p>
                                </div>
                                <!-- testing -->
                                <div *ngIf="deviceCondition === con.condition && con.show === !show" class="w-space-pw" id="spad">
                                    <label id="example-radio-group-label">
                                      Does the screen scratches or cracks?
                                    </label>
                                        <div class="form-check slideInDown" *ngFor="let scsc of screenScratch">
                                            <button mat-button class="btn btn-outline-hufix" type="button" name="scrtsOrCrk"
                                             id="exampleRadios1" value="{{scsc}}" (click)="ss()" formControlName="scrtsOrCrk">
                                              <label class="form-check-label" for="exampleRadios1">
                                                {{scsc}}
                                              </label>
                                            </button>
                                        </div>
                                </div>
                              </mat-radio-button>
                          </mat-radio-group><!-- Second Radio Buttons of Conditions -->
                      </div>
                  </div>
                </div>
              </div>
              <div class="card">
                <div class="card-header" id="headingTwo">
                  <h2 class="mb-0">
                    <button class="btn btn-link collapsed" type="button" data-toggle="collapse"
                     data-target="#devicePower" aria-expanded="false" aria-controls="devicePower">
                        <h5>2.2 Does the Device power on?</h5>
                    </button>
                  </h2>
                </div>
                <div id="devicePower" class="collapse" aria-labelledby="headingTwo" data-parent="#phoneSelectionFormTwo">
                  <div class="card-body">
                      <mat-radio-group class="example-radio-group border-line" formControlName="powerOnOff"
                      [(ngModel)]="devicePowerOnOff" data-toggle="collapse"
                      data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo" name="phoneModels" id="dpo">
                        <mat-radio-button (change)="moPower(p)" class="example-radio-button shadow"
                         *ngFor="let p of powerOnOff" [value]="p" (click)="powerOO()" >
                         <div class="row">
                           <div class="col-lg-3 col-md-6 pad15 fs15 btn-size">
                              {{ p }}
                           </div>
                         </div>
                        </mat-radio-button>
                      </mat-radio-group>
                      <!--<mat-radio-group class="example-radio-group" [(ngModel)]="devicePowerOnOff"
                      formControlName="powerOnOff" (click)="powerOO()" name="devicePowerOnOff">
                          <mat-radio-button class="example-radio-button btn-radio"
                          *ngFor="let p of powerOnOff" [value]="p" (change)="moPower(p)">
                            {{p}}
                          </mat-radio-button>
                      </mat-radio-group> -->
                  </div>
                </div>
              </div>
              <div class="card">
                <div class="card-header" id="headingThree">
                  <h2 class="mb-0">
                    <button class="btn btn-link collapsed" type="button" data-toggle="collapse"
                    data-target="#phoneImai" aria-expanded="false" aria-controls="phoneImai">
                        <h5>2.3 Does Your Phone have a Bad EMEI?</h5>
                    </button>
                  </h2>
                </div>
                <div id="phoneImai" class="collapse" aria-labelledby="headingThree" data-parent="#phoneSelectionFormTwo">
                  <div class="card-body">
                      <mat-radio-group class="example-radio-group border-line" [(ngModel)]="deviceBadImai"
                      name="deviceBadImai" formControlName="imai" (click)="ima()" id="di">
                        <mat-radio-button (change)="moImai(i)" class="example-radio-button shadow"
                         *ngFor="let i of badImai" [value]="i" >
                         <div class="row">
                           <div class="col-lg-3 col-md-6 pad15 fs15 btn-size">
                              {{ i }}
                           </div>
                         </div>
                        </mat-radio-button>
                      </mat-radio-group>

                     <!-- <mat-radio-group class="example-radio-group" [(ngModel)]="deviceBadImai" name="deviceBadImai"
                      formControlName="imai" (click)="ima()">
                          <mat-radio-button class="example-radio-button btn-radio" *ngFor="let i of badImai"
                           [value]="i" (change)="moImai(i)">
                                {{i}}
                          </mat-radio-button>
                        </mat-radio-group> -->
                  </div>
                </div>
              </div>

              <!-- Cierre del form -->
              <div class="card">
                  <div class="card-header" id="headingCheckout">
                    <h2 class="mb-0">
                      <button class="btn btn-link collapsed" type="button" data-toggle="collapse"
                      data-target="#collapseCheckout" aria-expanded="true" aria-controls="collapseCheckout"
                      (click)="check = !check">
                        <h5>2.4 Checkout</h5>
                      </button>
                    </h2>
                  </div>

                  <div id="collapseCheckout" class="collapse" aria-labelledby="headingCheckout" data-parent="#phoneSelectionFormTwo">
                    <div class="card-body card-body-checkout">
                      <div class="checkout shadow" *ngIf="phoneModels">
                        <div class="row">
                          <div class="col-12">
                            <div class="text-center">
                                <img src="{{ phoneModels }}" alt="mobile Phone" class="img-fluid detailsimg">
                                <p>
                                    <span>
                                      <strong></strong>
                                    </span>
                                    {{ favoriteCarrier }}, {{ mobileStorage }}
                                  </p>
                            </div>
                          </div>
                        </div>
                        <hr class="line-sep">
                          <p class="text-center  text-dev_price">
                            {{mobilePrice + moStorage - moCondition - mPower - mImai | currency}}
                          </p>

                            <div class="text-center">
                              <button class="btn btn-checkout" (click)="move(2)">Checkout</button>
                            </div>
                            <hr class="line-sep">
                            <p>
                              *Payment will be sent within 24 business hours after the device is received,
                              if condition is as described.
                            </p>
                            <p>
                              **This Quotes is Valid For 20 Days and Will Expire On 03/08/2019.
                            </p>
                      </div>
                    </div>
                  </div>
                </div>
            </div>
        </mat-step>

        <mat-step [stepControl]="thirdFormGroup">
          <ng-template matStepLabel></ng-template>
          <h5 class="text-center"> Your Selling Cart</h5>

          <p> we are almost done, just add the device you want and process. </p>
          <div class="card bg-darkgray">
              <div class="card-body row card-body-cart">
                <div class="col-md-6">
                    <div class="row">
                        <div class="col-4">
                            <img src="{{phoneModels}}" alt="iphonex" class="img-fluid phone cartImg">
                        </div>
                        <div class="col-4">
                          <strong>Details</strong>
                          <ul>
                            <li>{{ favoriteCarrier }}</li>
                            <li>{{ deviceCondition }}</li>
                            <li>{{ mobileStorage }}</li>
                            <li>{{ deviceBadImai }}</li>
                          </ul>
                          <hr class="vertical-line">
                        </div>
                        <div class="col-4">
                            <strong>Price</strong>
                            <ul>
                              <li>{{mobilePrice + moStorage - moCondition - mPower - mImai | currency}}</li>
                            </ul>
                            <div class="quantity">
                                <mat-form-field>
                                    <mat-label>Quantity</mat-label>
                                    <mat-select [(value)]="quant" (valueChange)="Qua(quant)">
                                      <!--<mat-option>None</mat-option>-->
                                      <mat-option value="Q1"> 1</mat-option>
                                      <mat-option value="Q2"> 2</mat-option>
                                      <mat-option value="Q3"> 3</mat-option>
                                    </mat-select>
                                  </mat-form-field>
                            </div>
                        </div>
                      </div>
                </div>

              </div>
              <div class="row">
                <div class="col-4 pl-price text-center">
                  <ul>
                    <li>Total Price</li>
                    <li><strong>{{ (mobilePrice + moStorage - moCondition - mPower - mImai) * mQuantity * 1 | currency}}</strong></li>
                  </ul>
                </div>
                <div class="col-8 text-center vert-align">
                  <a class="btn btn-sm btn-process_checkout" (click)="processCheck = !processCheck"> Process Checkout</a>
                </div>
           </div>
          </div>


          <div class="accordion" id="BillsDetails" *ngIf="processCheck">
          <div class="card">
              <div class="card-header" id="headingBilling">
                <h2 class="mb-0">
                  <button class="btn btn-link collapsed" type="button" data-toggle="collapse"
                  data-target="#collapseBilling" aria-expanded="false" aria-controls="collapseBilling">
                  <h5>3.2 Billing Details</h5>
                </button>
                </h2>
              </div>
              <div class="collapse" id="collapseBilling" aria-labelledby="headingBilling" data-parent="#BillsDetails">
                <div class="card-body">

                  <!-- Personal Data Form -->
                  <!-- Forms open -->

                    <div class="form-group">
                        <mat-form-field>
                            <input matInput placeholder="Firts Name" formControlName="dataFirstName"
                            [(ngModel)]="dataFirstName" name="dataFirstName">
                        </mat-form-field>
                    </div>
                    <div class="form-group">
                        <mat-form-field>
                            <input matInput placeholder="Last Name" formControlName="dataLastName"
                            [(ngModel)]="dataLastName" name="dataLastName">
                        </mat-form-field>
                    </div>
                    <div class="form-group">
                        <mat-form-field>
                            <input matInput placeholder="Company Name (optional)" formControlName="dataCompany">
                        </mat-form-field>
                    </div>
                    <div class="form-group">
                        <mat-form-field>
                            <input matInput placeholder="Street address" formControlName="dataAddress"
                            [(ngModel)]="dataAddress" name="dataAddress">
                        </mat-form-field>
                        <div class="form-group">
                            <mat-form-field>
                                <input matInput placeholder="Apartment, suit, unit, etc. (optional)" formControlName="dataAddressSecLine">
                            </mat-form-field>
                        </div>
                        <div class="form-group">
                            <mat-form-field>
                                <input matInput placeholder="Town/ City" formControlName="dataCity"
                                [(ngModel)]="dataCity" name="dataCity">
                            </mat-form-field>
                        </div>
                        <div class="form-group">
                            <mat-form-field>
                                <input matInput placeholder="State" formControlName="dataState"
                                [(ngModel)]="dataState" name="dataState">
                            </mat-form-field>
                        </div>
                        <div class="form-group">
                            <mat-form-field>
                                <input matInput placeholder="Zip" formControlName="dataZip"
                                [(ngModel)]="dataZip" name="dataZip">
                            </mat-form-field>
                        </div>
                        <!-- Phone Number here -->
                        <div class="form-group">
                            <div class="example-container">
                                <mat-form-field>
                                  <input matInput placeholder="Enter your email" formControlName="dataEmail" required>
                                  <mat-error *ngIf="email.invalid">{{getErrorMessage()}}</mat-error>
                                </mat-form-field>
                              </div>
                        </div>
                        <div class="form-group">
                            <div class="example-container">
                                <mat-form-field>
                                  <input matInput placeholder="Paypal Email (if Different from contact email)(optional)"
                                    formControlName="dataPaypalEmail" required>
                                  <mat-error *ngIf="email.invalid">{{getErrorMesPaypal()}}</mat-error>
                                </mat-form-field>
                              </div>
                        </div>
                        <div class="form-group">
                            <mat-form-field>
                                <input matInput placeholder="Enter your password" [type]="hide ? 'password' : 'text'">
                                <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility_off' : 'visibility'}} </mat-icon>
                              </mat-form-field>
                        </div>
                        <div class="form-group">
                            <mat-form-field>
                                <textarea matInput placeholder="Order Notes (optional)" formControlName="dataMessage"></textarea>
                            </mat-form-field>
                        </div>
                    </div>

                  <!-- form close -->
                </div>
              </div>
            </div><!-- Billing Details Ends -->
            <!-- payment form open here -->
            <div class="card">
              <div class="card-header" id="headingBillDetails">
                <h2 class="mb-0">
                  <button class="btn btn-link collapsed" type="button" data-toggle="collapse"
                  data-target="#collapseBillDestails" aria-expanded="false" aria-controls="collapseBillDestails">
                  <h5>3.3 Payment Method</h5>
                </button>
                </h2>
              </div>
              <div class="collapse" id="collapseBillDestails" aria-labelledby="headingBillDestails"
              data-parent="#BillsDetails">
              <div class="card-body">
                  <mat-radio-group class="example-radio-group border-line" [(ngModel)]="payMethod" name="payMethod"
                  formControlName="payMethod" id="pm">
                    <mat-radio-button class="example-radio-button shadow"
                    *ngFor="let pm of payment" [value]="pm" >
                     <div class="row">
                       <div class="col-lg-3 col-md-6 pad15">
                          {{ pm }}
                       </div>
                     </div>
                    </mat-radio-button>
                  </mat-radio-group>

                <!--  <mat-radio-group class="example-radio-group" [(ngModel)]="payMethod" name="payMethod"
                  formControlName="payMethod">
                      <mat-radio-button class="example-radio-button btn-radio" *ngFor="let pm of payment" [value]="pm">
                        {{pm}}
                      </mat-radio-button>
                  </mat-radio-group> -->
                  <br>
                  <hr>
                  <p> Your Personal data will be used to process your order, support your experience throughout this website, and
                    for other purposes described in our privacy policy.
                  </p>
                  <div class="checkbox w-space-pw">
                      <mat-checkbox  formControlName="termsCond" [(ngModel)]="termsCond"
                      name="termsCond">I have read and agree to the website
                        <a [routerLink]="['/termCond']" routerLinkActive="router-link-active">terms and conditions</a>
                      </mat-checkbox>
                  </div>
                 <!-- <button class="btn btn-order" type="submit" mat-button matStepperNext
                  (click)="success()">Place Order</button> -->
              </div>
            </div>
            </div><!-- Cards ends Destails Bills-->
            <!-- payment form close here -->
        </div>
        <button class="btn btn-order mb-5" type="submit" mat-button matStepperNext
        (click)="success()" *ngIf="processCheck" (click)="uD(f.value)">Place Order</button>
        </mat-step>
        <mat-step>
            <ng-template matStepLabel></ng-template>
           <!-- loading -->
           <div class="text-center pt-5 spinner">
            <mat-spinner></mat-spinner>
            <p class="mt-4 text-center">
                Processing Data...
              </p>
           </div>
          </mat-step>
      </mat-horizontal-stepper>
    </form>
  </div>
